"use strict";Object.defineProperty(exports, "__esModule", {value: true});var _undici = require('undici');async function c(e,o,t){if(!e)throw new Error("vercelBlob.put: pathname is required");if(!o)throw new Error("vercelBlob.put: body is required");if(!t||t.access!=="public")throw new Error('vercelBlob.put: access must be "public"');return(await _undici.fetch.call(void 0, `${n()}/${e}`,{method:"PUT",body:o,headers:{authorization:`Bearer ${s(t)}`},duplex:"half"})).json()}async function d(e,o){let t=new URL(n());t.searchParams.set("url",e),await _undici.fetch.call(void 0, t,{method:"DELETE",headers:{authorization:`Bearer ${s(o)}`}})}async function u(e,o){let t=new URL(n());t.searchParams.set("url",e);let i=await(await _undici.fetch.call(void 0, t,{method:"GET",headers:{authorization:`Bearer ${s(o)}`}})).json();return{...i,uploadedAt:new Date(i.uploadedAt)}}function n(){return process.env.VERCEL_BLOB_API_URL||"https://blob.vercel-storage.com"}function s(e){if(e!=null&&e.token)return e.token;if(!process.env.BLOB_READ_WRITE_TOKEN)throw new Error("BLOB_READ_WRITE_TOKEN environment variable is not set. Please set it to your write token.");return process.env.BLOB_READ_WRITE_TOKEN}exports.del = d; exports.head = u; exports.put = c;
